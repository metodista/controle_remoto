<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Controle remoto by metodista</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Controle remoto</h1>
        <p class="header">Controle remoto Android e Arduino</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/metodista/controle_remoto/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/metodista/controle_remoto/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/metodista/controle_remoto">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/metodista">metodista</a></p>


      </header>
      <section>
        <h2>
<a name="manual-de-utiliza%C3%A7%C3%A3o" class="anchor" href="#manual-de-utiliza%C3%A7%C3%A3o"><span class="octicon octicon-link"></span></a><strong>Manual de utilização</strong>
</h2>

<p>Aplicativo que substitua o controle remoto da TV e Home Theater da marca LG.</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/comunicacao_zps055eb89a.jpg" alt="comunicacao"></p>

<h2>
<a name="ano-2013" class="anchor" href="#ano-2013"><span class="octicon octicon-link"></span></a><strong>ANO 2013</strong>
</h2>

<h2>
<a name="1-descri%C3%A7%C3%A3o" class="anchor" href="#1-descri%C3%A7%C3%A3o"><span class="octicon octicon-link"></span></a><strong>1. Descrição</strong>
</h2>

<p>A solução tem como o objetivo utilizar o smartphone para gerenciar a TV modelo 22LS4R e o Home Theater modelo HT303SU da marca LG. A comunicação é feita através do Bluetooth e os comandos são enviados para a placa do Arduino que tem a função de enviar o comando para o LED Infravermelho que está conectado na placa.
No aplicativo o usuário tem a opção de selecionar qual equipamento deseja gerenciar e qual ação deseja enviar para o equipamento. Depois, deve-se selecionar o dispositivo Bluetooth que deseja conectar para enviar as informações (no caso o dispositivo Bluetooth da placa Arduino). O aplicativo possui uma interface intuitiva para facilitar a utilização.</p>

<h2>
<a name="2-esquema-arduino" class="anchor" href="#2-esquema-arduino"><span class="octicon octicon-link"></span></a><strong>2. Esquema Arduino</strong>
</h2>

<p>O Arduino deve ser montado conforme demonstrado na figura abaixo:</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/1_zps45d76b1c.jpg" alt="esquema"></p>

<p>O LED Infravermelho deve ser um emissor de sinal e terá que ficar apontado para o equipamento, no caso, a TV e o Home Theater. O modulo Bluetooth utilizado, é um Serial TTL que trabalha apenas como escravo.</p>

<h2>
<a name="3-c%C3%B3digo-arduino" class="anchor" href="#3-c%C3%B3digo-arduino"><span class="octicon octicon-link"></span></a><strong>3. Código Arduino</strong>
</h2>

<p>Para abrir o código do Arduino na IDE, selecione a opção “File” e depois clique em “Open”.</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/2_zpse568dc98.jpg" alt="open"></p>

<p>Selecione o diretório no qual está localizado o código do Arduino que será aberto e clique no botão “Abrir” conforme a imagem abaixo:</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/3_zps0727a0eb.jpg" alt="diretorio"></p>

<p>Será aberta uma nova janela com o código a ser enviado. Para enviar o código para a placa do Arduino, basta clicar no botão “Upload” e esperar o carregamento. Não esqueça de verificar antes no menu “Tools” -&gt; “Board” se está selecionado corretamente o modelo da sua placa do Arduino. </p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/4_zps3b793498.jpg" alt="codigo"></p>

<h2>
<a name="4-instala%C3%A7%C3%A3o-do-aplicativo" class="anchor" href="#4-instala%C3%A7%C3%A3o-do-aplicativo"><span class="octicon octicon-link"></span></a><strong>4. Instalação do Aplicativo</strong>
</h2>

<p>Após ter realizado o download do aplicativo no Google Play, será iniciado a instalação, o aplicativo necessita que o usuário aceite as permissões abaixo. Caso recuse, a instalação não será concluída.</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/5_zps7159dd96.jpg" alt="permissao"></p>

<p>Ao término da instalação, o aplicativo já estará pronto para uso. Para utilizar, basta clicar no ícone “Controle Remoto” que foi criado no menu do smartphone.</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/6_zps9c29581a.jpg" alt="icone"></p>

<h2>
<a name="5-funcionamento-do-aplicativo" class="anchor" href="#5-funcionamento-do-aplicativo"><span class="octicon octicon-link"></span></a><strong>5. Funcionamento do Aplicativo</strong>
</h2>

<p>Assim que iniciar o aplicativo, será realizada a verificação se o Bluetooth do smartphone está ativado ou não. Caso o Bluetooth não esteja ativado, irá aparecer a seguinte mensagem:</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/7_zps14870df2.jpg" alt="solicitacao de permissao"></p>

<p>Se optar por não ativar, será exibido o aviso abaixo e aplicação será fechada, pois sem o Bluetooth ativo, a aplicação não terá nenhuma funcionalidade. </p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/8_zps433f6b91.jpg" alt="aviso"></p>

<p>Com o Bluetooth ativado, será carregado o último layout do controle utilizado, no caso do primeiro uso, por padrão será o layout do controle da TV. </p>

<p>Próximo passo, é realizar a conexão com o Arduino, para isso é necessário que o módulo Bluetooth conectado na placa Arduino, já tenha sido pareado. Caso não tenha sido, acesse o menu de opções do aplicativo através do botão menu do smartphone e selecione a opção “Procurar Dispositivo”. </p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/9_zps03ee2011.jpg" alt="menu"></p>

<p>Ao selecionar esse botão, será aberto na tela uma janela que automaticamente iniciara a varredura em busca de dispositivos apenas da categoria do Arduino.</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/10_zpscdb3d196.jpg" alt="procurando"></p>

<p>O aplicativo irá listar todos os dispositivos encontrados, mostrando o nome e o endereço MAC.</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/11_zpsddda1f4a.jpg" alt="selecione"></p>

<p>Caso não encontre nenhum dispositivo, é exibido a mensagem abaixo:</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/12_zps6ef3e834.jpg" alt="nenhum dispositivo"></p>

<p>Ao selecionar um dispositivo da lista, será exibido a mensagem abaixo solicitando deixar o smartphone detectável por 300 segundos. Essa permissão é necessária pois houve uma mudança no pareamento Bluetooth para rev 10 Androids 2.3.3, por isso é preciso tornar o Bluetooth detectável para que a solicitação de pareamento apareça. Caso selecione a opção “Não”, o aplicativo irá voltar para a lista de dispositivos encontrados.</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/13_zpsef1a8e1f.jpg" alt="detectavel"></p>

<p>Após permitir que o smartphone fique visível, será exibida a tela para informar a senha de pareamento conforme mostra a figura abaixo, as senhas padrões são “0000” ou “1234”, mas isso pode variar conforme o módulo Bluetooth utilizado.  A senha do módulo Bluetooth utilizado no projeto é “1234”.</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/14_zpsee6d8afd.jpg" alt="senha"></p>

<p>Depois de informar a senha, será iniciado o processo de conexão, caso a conexão seja realizada com sucesso, será enviada uma mensagem informando que o dispositivo está conectado e o status na parte superior da tela será atualizado para conectado e o nome do dispositivo. Se a conexão não for realizada, será exibida a mensagem “Não foi possível conectar com o dispositivo” e o status permanecerá como “Não conectado”.</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/15_zpsdc9b40c3.jpg" alt="conectado"></p>

<p>Se o pareamento já foi realizado anteriormente, as próximas conexões serão realizadas através do botão “Dispositivos Pareados” presente no menu de opções. Ao selecionar esse botão, será exibido na tela uma janela com uma lista dos dispositivos pareados com o smartphone, lembrando que é apenas listado os dispositivos da categoria do Arduino. </p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/16_zps1bfeeb9f.jpg" alt="selecione dispositivo pareado"></p>

<p>Caso não possua nenhum dispositivo pareado, a lista será carregada conforme a imagem abaixo: </p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/17_zps2cf3321e.jpg" alt="nenhum dispositivo"></p>

<p>Para conectar basta selecionar um dispositivo na lista que automaticamente o aplicativo iniciara a tentativa de conexão. A mensagem e o status da conexão será atualizado conforme visto anteriormente.</p>

<p>Com a conexão realizada, ao selecionar um botão do controle, o mesmo trocará a cor para vermelho e irá vibrar rapidamente indicando que foi pressionado e o comando será enviado.</p>

<p><img src="http://i785.photobucket.com/albums/yy140/juuh_4ever/18_zps46f611c5.jpg" alt="pressionado"></p>

<p>Para trocar o layout do controle remoto, deslize o dedo da direita para a esquerda. O aplicativo disponibiliza dois layout’s, um para a TV e outro para o Home Theater. Na parte superior do layout, existe uma variável na cor verde que ajuda na identificação do controle que está visível no momento. Por questão de espaço, o layout do Home Theater é identificado pela variável DVD.   </p>

<p>Ao sair do aplicativo, a conexão com dispositivo é encerrada. Quando iniciar novamente o aplicativo, automaticamente será feito uma tentativa de conexão com o último dispositivo selecionado para conexão, evitando que toda vez precise selecionar o dispositivo na lista de pareados para realizar a conexão.</p>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>